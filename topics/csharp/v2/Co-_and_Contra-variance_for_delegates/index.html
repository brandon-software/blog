<!DOCTYPE html>
<html lang="en-us">
  <head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
    Co- and Contra-variance for delegates &middot; Code-Sage
    
  </title>

  
  <link rel="canonical" href="/blog/topics/csharp/v2/Co-_and_Contra-variance_for_delegates/">
  
  <link rel="stylesheet" href="/blog/public/css/main.css">
  <link rel="stylesheet" href="/blog/public/css/poole.css">
  <link rel="stylesheet" href="/blog/public/css/syntax.css">
  <link rel="stylesheet" href="/blog/public/css/lanyon.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Serif:400,400italic,700%7CPT+Sans:400">

  <link rel="apple-touch-icon-precomposed" sizes="144x144"
    href="/blog/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/blog/public/favicon.ico">

  <link rel="alternate" type="application/rss+xml" title="RSS" href="/blog/atom.xml">

  
</head>

  <body>
    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <div class="author-container">
        <img src="/blog/public/image/brandon.png" alt="author" class="author-image">
        <p>A Software Engineer's Blog
 by<br>
            Brandon D'Souza
        </p>
    </div>
</div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/blog/">Home</a>

    

    
    
    
    
    
    
    
    
    
    
    <a class="sidebar-nav-item"
      href="/blog/about/">About</a>
    
    
    
    
    
    
    
    
    
    <a class="sidebar-nav-item"
      href="/blog/csharp/">CSharp Guide</a>
    
    
    
    
    
    <hr>
    
    
    
    
    
    
    
    
    

    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    

    
    

    
    <div class="version active">
      csharp v2
    </div>
    
    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Anonymous_methods/">Anonymous methods</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item active"
      href="/blog/topics/csharp/v2/Co-_and_Contra-variance_for_delegates/">Co- and Contra-variance for delegates</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Delegate_inference/">Delegate inference</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Generics/">Generics</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Getter_and_setter_separate_accessibility/">Getter and setter separate accessibility</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Iterators/">Iterators</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Method_group_conversions__delegates_/">Method group conversions (delegates)</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Nullable_types/">Nullable types</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Partials/">Partials</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v2/Static_classes/">Static classes</a>
    
    
    
    
    
    

    
    

    
    <div class="version ">
      csharp v3
    </div>
    
    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Anonymous_types/">Anonymous types</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Auto-Implemented_properties/">Auto-Implemented properties</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Expression_trees/">Expression trees</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Extension_methods/">Extension methods</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Implicitly_typed_local_variables/">Implicitly typed local variables</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Lambda_expression/">Lambda expression</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Object_and_collection_initializers/">Object and collection initializers</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Partial_methods/">Partial methods</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v3/Query_expressions/">Query expressions</a>
    
    
    
    
    
    

    
    

    
    <div class="version ">
      csharp v4
    </div>
    
    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v4/Generic_co-_and_contravariance/">Generic co- and contravariance</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v4/Named_and_optional_arguments/">Named and optional arguments</a>
    
    
    
    
    
    

    
    

    
    <div class="version ">
      csharp v5
    </div>
    
    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v5/Asynchronous_methods/">Asynchronous methods</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v5/Caller_info_attributes/">Caller info attributes</a>
    
    
    
    
    
    

    
    

    
    <div class="version ">
      csharp v6
    </div>
    
    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/A_note_for_CSharp_6_and_beyond/">A note for CSharp 6 and beyond</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/Allow_await_in_catch_and_finally_blocks/">Allow await in catch and finally blocks</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/Auto_property_initializers/">Auto property initializers</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/Default_values_for_Read-only_Auto-properties/">Default values for Read-only Auto-properties</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/Dictionary__index__initializers/">Dictionary (index) initializers</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/Exception_filters/">Exception filters</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/Expression-bodied_members/">Expression-bodied members</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/Import_of_static_type_members_into_namespace/">Import of static type members into namespace</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/Null_propagator__null-conditional_operator__succinct_null_checking_/">Null propagator (null-conditional operator, succinct null checking)</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/String_interpolation/">String interpolation</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v6/nameof_operator/">nameof operator</a>
    
    
    
    
    
    

    
    

    
    <div class="version ">
      csharp v7
    </div>
    
    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Binary_literals/">Binary literals</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Deconstruction/">Deconstruction</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Digit_separators/">Digit separators</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Expression_bodied_constructors_and_finalizers/">Expression bodied constructors and finalizers</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Expression_bodied_getters_and_setters/">Expression bodied getters and setters</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Generalized_async_return_types/">Generalized async return types</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Local_functions/">Local functions</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Out_variables/">Out variables</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Pattern_matching/">Pattern matching</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Ref_returns_and_locals/">Ref returns and locals</a>
    
    
    
    
    
    

    
    

    
    <a class="sidebar-nav-item"
      href="/blog/topics/csharp/v7/Tuples/">Tuples</a>
    
    

    
    
    
  </nav>
  <div class="sidebar-item">
    <ul class="social-media-list">
        
        <li>
            <a href="https://linkedin.com/in/brandon-dsouza">
                <i class="fa fa-linkedin"></i> LinkedIn
            </a>
        </li>
        
        
        <li>
            <a href="https://github.com/brandon-software"><span class="icon icon--github"><svg viewBox="0 0 16 16" width="16px" height="16px"><path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg>
</span><span class="username">brandon-software</span></a>

        </li>
        
    </ul>
    <span>Version: 2.0.0</span>
    <p>
        <span>&copy; 2023 Code-Sage.com. All rights reserved.</span>
    </p>
</div>
</div>
    <!-- Wrap is the content to shift when toggling the sidebar. We wrap the
         content to avoid any CSS collisions with our real content. -->
    <div class="wrap">
      <div class="masthead sticky">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/blog/" title="Home">Code-Sage</a>
            <small></small>
          </h3>
        </div>
        <div class="cs-sticky-language-feature content ">
          <p><strong>C# language feature</strong>:</p>

<ul>
  <li>
    <h2 id="co--and-contra-variance-for-delegates">Co- and Contra-variance for delegates</h2>
  </li>
</ul>

<p><strong>applies to</strong></p>
<ul>
  <li>delegates</li>
</ul>

<p><strong>benefit</strong></p>
<ul>
  <li>
    <p>The method passed to a delegate may now have greater flexibility in its return type and parameters.</p>
  </li>
  <li>1) Covariance permits assignment of a method to have a more derived RETURN TYPE than what is defined in the delegate.  I.e. when a delegate returns an object, a derived type can be converted/substituted for a base/antecedent type</li>
  <li>2) Contravariance permits assignement of a method with parameter types that are less derived than in the delegate type.  I.e. when invoking a delegate, a derived parameter can be converted/substituted as a base/antecedent parameter.</li>
</ul>

<p><strong>note</strong></p>
<ul>
  <li>Substitution will always make sense. Keep in mind that it is an assignment of delegate signature and the return or parameter which can be sensibly replaced by an antecedent class type.  Due to the difficulty/complexity of this topic, more comments and additional code are provided to clarify co and contra variance concept beyond a minimal how to use.</li>
</ul>

<p><strong>how to use CoVariance</strong></p>
<ul>
  <li>Substitution of base to decendent/derived in RETURN TYPE.</li>
  <li>1) Create a base class, derived class from base.</li>
  <li>2) Define a delegate RETURNING  base class.</li>
  <li>3) Create 2 methods, a) RETURNING base class and b) RETURNING derived class.</li>
  <li>4) The delegate can accept the derived method RETURNING derived class (delegate definition defined with BASE class).</li>
</ul>

<p><strong>how to use ContraVariance</strong></p>
<ul>
  <li>Substitution of defined/derived to antecedent/base in PARAMETER TYPE.</li>
  <li>1) Create a base class, derived class from base.</li>
  <li>2) Define a delegate with DERIVED class as PARAMETER.</li>
  <li>3) Create 2 methods, a) with base class as PARAMETER and b) with derived class as PARAMETER.</li>
  <li>4) The delegate can accept the method with BASE class as PARAMETER (where delegate definition is defined with DERIVED class).</li>
</ul>

<p><strong>ContraVariance note</strong></p>
<ul>
  <li>A PARAMETER object as defined in delegate signature (or more derived/descendent) is required when calling an ASSIGNED delegate where BASE/antecedent class is PARAMETER!  This allows a sensible defined or antecedent class substitution.</li>
</ul>

<p><strong>example:</strong></p>

<figure class="highlight"><pre><code class="language-c#" data-lang="c#">    <span class="c1">// declare base class and derived classes</span>
    <span class="k">class</span> <span class="nc">mybase</span>
    <span class="p">{</span>
    <span class="p">}</span>
    <span class="k">class</span> <span class="nc">derived</span> <span class="p">:</span> <span class="n">mybase</span>
    <span class="p">{</span>
    <span class="p">}</span>
    <span class="k">class</span> <span class="nc">derived2times</span> <span class="p">:</span> <span class="n">derived</span>
    <span class="p">{</span>
    <span class="p">}</span>

    <span class="k">class</span> <span class="nc">CoVariance_Example</span>
    <span class="p">{</span>
        <span class="c1">// declare delegates with varying returned typess</span>
        <span class="k">public</span> <span class="k">delegate</span> <span class="n">mybase</span> <span class="nf">Delegate_Returns_Base_Type</span><span class="p">();</span>  <span class="c1">// accepts methods with base/defined and derivitive return types! </span>
        <span class="k">public</span> <span class="k">delegate</span> <span class="n">derived</span> <span class="nf">Delegate_Returns_Derived_Type</span><span class="p">();</span>  <span class="c1">// accepts methods with derived/defined and derivitive return types! </span>
        <span class="k">public</span> <span class="k">delegate</span> <span class="n">derived2times</span> <span class="nf">Delegate_Return_Derived2Times_Type</span><span class="p">();</span>  <span class="c1">// accepts methods with derived2times/defined and derivitive return types if any! </span>

        <span class="c1">// declare methods/functions</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">mybase</span> <span class="nf">MethodReturnsBase</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">mybase</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">derived</span> <span class="nf">MethodReturnsDerived</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">derived</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">derived2times</span> <span class="nf">MethodReturnsDerived2times</span><span class="p">()</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="k">new</span> <span class="nf">derived2times</span><span class="p">();</span>
        <span class="p">}</span>

        <span class="k">void</span> <span class="nf">Use_of_CoVariance_Example</span><span class="p">()</span>
        <span class="p">{</span>   <span class="c1">// assign some delegates</span>
            <span class="c1">// NOTICE- delegate type CAN accept signatures with returnr objects from base/defined and derivatives i.e.  descendants, this is co-variance!</span>
            <span class="n">Delegate_Returns_Base_Type</span> <span class="n">handler_accepts_base_return</span> <span class="p">=</span> <span class="n">MethodReturnsBase</span><span class="p">;</span>
            <span class="n">Delegate_Returns_Base_Type</span> <span class="n">handler_accepts_base_return2</span> <span class="p">=</span> <span class="n">MethodReturnsDerived</span><span class="p">;</span>
            <span class="n">Delegate_Returns_Base_Type</span> <span class="n">handler_accepts_base_return3</span> <span class="p">=</span> <span class="n">MethodReturnsDerived2times</span><span class="p">;</span>

            <span class="c1">// Delegate_Returns_Derived_Type handler_accepts_derived_return = MethodReturnsBase;  // illegal can not accept less derived type than Delegate_Returns_Derived_Type</span>
            <span class="n">Delegate_Returns_Derived_Type</span> <span class="n">handler_accepts_derived_return2</span> <span class="p">=</span> <span class="n">MethodReturnsDerived</span><span class="p">;</span>
            <span class="n">Delegate_Returns_Derived_Type</span> <span class="n">handler_accepts_derived_return3</span> <span class="p">=</span> <span class="n">MethodReturnsDerived2times</span><span class="p">;</span>

            <span class="c1">//Delegate_Return_Derived2Times_Type handler_accepts_derived2times_return = MethodReturnsBase;  // illegal can not accept less derived type than Delegate_Return_Derived2Times_Type</span>
            <span class="c1">//Delegate_Return_Derived2Times_Type handler_accepts_derived2times_return2 = MethodReturnsDerived; //</span>
            <span class="n">Delegate_Return_Derived2Times_Type</span> <span class="n">handler_accepts_derived2times_return3</span> <span class="p">=</span> <span class="n">MethodReturnsDerived2times</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">class</span> <span class="nc">ContraVariance_Example</span>
    <span class="p">{</span>
        <span class="c1">// declare delegates with varying parameter types</span>
        <span class="k">public</span> <span class="k">delegate</span> <span class="n">mybase</span> <span class="nf">Delegate_Accepts_Base_Parameter</span><span class="p">(</span><span class="n">mybase</span> <span class="n">c</span><span class="p">);</span>  <span class="c1">// very limited accepts methods with base parameters defined! </span>
        <span class="k">public</span> <span class="k">delegate</span> <span class="n">mybase</span> <span class="nf">Delegate_Accepts_Derived_Parameter</span><span class="p">(</span><span class="n">derived</span> <span class="n">c</span><span class="p">);</span>  <span class="c1">// accepts methods with (derived or base) parameters defined  </span>
        <span class="k">public</span> <span class="k">delegate</span> <span class="n">mybase</span> <span class="nf">Delegate_Accepts_Derived2Times_Parameter</span><span class="p">(</span><span class="n">derived2times</span> <span class="n">c</span><span class="p">);</span>  <span class="c1">// accepts methods with (derived2times or derived or base) parameters defined  </span>

        <span class="k">static</span> <span class="k">event</span> <span class="n">Delegate_Accepts_Derived_Parameter</span> <span class="n">onEventDerived</span><span class="p">;</span>  <span class="c1">// declare an event</span>

        <span class="c1">// declare methods/functions</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">mybase</span> <span class="nf">MethodAcceptsBase</span><span class="p">(</span><span class="n">mybase</span> <span class="n">b</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">b</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">mybase</span> <span class="nf">MethodAcceptsDerived</span><span class="p">(</span><span class="n">derived</span> <span class="n">d</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">d</span> <span class="k">as</span> <span class="n">mybase</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">public</span> <span class="k">static</span> <span class="n">mybase</span> <span class="nf">MethodAcceptsDerived2times</span><span class="p">(</span><span class="n">derived2times</span> <span class="n">d2</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">d2</span> <span class="k">as</span> <span class="n">mybase</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">void</span> <span class="nf">Use_of_ContraVariance_Example</span><span class="p">()</span>
        <span class="p">{</span>   <span class="c1">// assign some delegates</span>
            <span class="n">Delegate_Accepts_Base_Parameter</span> <span class="n">handler_accepts_base_parameter</span> <span class="p">=</span> <span class="n">MethodAcceptsBase</span><span class="p">;</span>  <span class="c1">// legal</span>
            <span class="c1">// NOTICE- delegate type can NOT accept signatures with derived parameter objects (i.e. descendents like below!) </span>
            <span class="c1">// Delegate_Accepts_Base_Parameter handler_accepts_base_parameter2 = MethodAcceptsDerived;  // illegal cannot accept more derived parameter signature than Delegate_Accepts_Base_Parameter</span>
            <span class="c1">// Delegate_Accepts_Base_Parameter handler_accepts_base_parameter3 = MethodAcceptsDerived2times;  // illegal cannot accept more derived parameter signature than Delegate_Accepts_Base_Parameter</span>

            <span class="c1">// ***</span>
            <span class="c1">// NOTICE- delegate type CAN accept signatures with parameter objects from defined to base i.e.  ancestors, this is contra-variance!</span>
            <span class="n">Delegate_Accepts_Derived_Parameter</span> <span class="n">handler_accepts_derived_parameter</span> <span class="p">=</span> <span class="n">MethodAcceptsBase</span><span class="p">;</span>  <span class="c1">//legal</span>
            <span class="n">Delegate_Accepts_Derived_Parameter</span> <span class="n">handler_accepts_derived_parameter2</span> <span class="p">=</span> <span class="n">MethodAcceptsDerived</span><span class="p">;</span>  <span class="c1">//legal</span>
            <span class="c1">//Delegate_Accepts_Derived_Parameter handler_accepts_derived_parameter3 = MethodAcceptsDerived2times;  // illegal cannot accept more derived parameter signature than Delegate_Accepts_Derived_Parameter</span>

            <span class="c1">// All legal  by contravariance!  that is, DELEGATE accepts antecedent signature methods</span>
            <span class="n">Delegate_Accepts_Derived2Times_Parameter</span> <span class="n">handler_accepts_derived2times_parameter</span> <span class="p">=</span> <span class="n">MethodAcceptsBase</span><span class="p">;</span> 
            <span class="n">Delegate_Accepts_Derived2Times_Parameter</span> <span class="n">handler_accepts_derived2times_parameter2</span> <span class="p">=</span> <span class="n">MethodAcceptsDerived</span><span class="p">;</span>
            <span class="n">Delegate_Accepts_Derived2Times_Parameter</span> <span class="n">handler_accepts_derived2times_parameter3</span> <span class="p">=</span> <span class="n">MethodAcceptsDerived2times</span><span class="p">;</span>

            <span class="c1">// On to events...</span>
            <span class="n">onEventDerived</span> <span class="p">+=</span> <span class="k">new</span> <span class="nf">Delegate_Accepts_Derived_Parameter</span><span class="p">(</span><span class="n">handler_accepts_base_parameter</span><span class="p">);</span> <span class="c1">//legal </span>
            <span class="n">onEventDerived</span> <span class="p">+=</span> <span class="k">new</span> <span class="nf">Delegate_Accepts_Derived_Parameter</span><span class="p">(</span><span class="n">handler_accepts_derived_parameter</span><span class="p">);</span> <span class="c1">//legal</span>
            <span class="c1">//onEventDerived += new Delegate_Accepts_Derived_Parameter(handler_accepts_derived2times_parameter);  // illegal signature must be less derived! </span>
            
            <span class="c1">//onEventDerived.Invoke(new mybase()); //illegal as parameter can not be up derived!</span>
            <span class="n">onEventDerived</span><span class="p">.</span><span class="nf">Invoke</span><span class="p">(</span><span class="k">new</span> <span class="nf">derived</span><span class="p">());</span>
            <span class="n">onEventDerived</span><span class="p">.</span><span class="nf">Invoke</span><span class="p">(</span><span class="k">new</span> <span class="nf">derived2times</span><span class="p">());</span>

            <span class="c1">// In conclusion,  in explaining contra-variance of event handlers, the event handlers  </span>
            <span class="c1">// are able to assign/use contra-variance to call a delegate with an base/antecedent signature</span>
            <span class="c1">// also note, a more "derived signature" would not make sense as that implies a derived/descendent</span>
            <span class="c1">// object that the handler does not "understand" or is capable of producing.</span>
        <span class="p">}</span>
    <span class="p">}</span></code></pre></figure>


          <!-- include line separator across page-->
          <hr>
<div class="quick" style="margin:5%;">
    <h6>C# articles</h6>
    
    
    
    
    
    
    
    
    

    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    
    
    
    
    

    
    

    
    
    
    
    
    
    
    
    
    
    

    
    
    
    
    

    
    

    
    <div style="display:inline;" class="active-x" >
        <h3 style="display:inline;">csharp v2 +</h3>
    </div>
    
    

    <a  href="/blog/topics/csharp/v2/Anonymous_methods/">Anonymous methods</a>
    *
    
    
    
    
    
    

    
    

    

    <a class="active-x"  href="/blog/topics/csharp/v2/Co-_and_Contra-variance_for_delegates/">Co- and Contra-variance for delegates</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v2/Delegate_inference/">Delegate inference</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v2/Generics/">Generics</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v2/Getter_and_setter_separate_accessibility/">Getter and setter separate accessibility</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v2/Iterators/">Iterators</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v2/Method_group_conversions__delegates_/">Method group conversions (delegates)</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v2/Nullable_types/">Nullable types</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v2/Partials/">Partials</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v2/Static_classes/">Static classes</a>
    *
    
    
    
    
    
    

    
    

    
    <div style="display:inline;" >
        <h3 style="display:inline;">csharp v3 +</h3>
    </div>
    
    

    <a  href="/blog/topics/csharp/v3/Anonymous_types/">Anonymous types</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v3/Auto-Implemented_properties/">Auto-Implemented properties</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v3/Expression_trees/">Expression trees</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v3/Extension_methods/">Extension methods</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v3/Implicitly_typed_local_variables/">Implicitly typed local variables</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v3/Lambda_expression/">Lambda expression</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v3/Object_and_collection_initializers/">Object and collection initializers</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v3/Partial_methods/">Partial methods</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v3/Query_expressions/">Query expressions</a>
    *
    
    
    
    
    
    

    
    

    
    <div style="display:inline;" >
        <h3 style="display:inline;">csharp v4 +</h3>
    </div>
    
    

    <a  href="/blog/topics/csharp/v4/Generic_co-_and_contravariance/">Generic co- and contravariance</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v4/Named_and_optional_arguments/">Named and optional arguments</a>
    *
    
    
    
    
    
    

    
    

    
    <div style="display:inline;" >
        <h3 style="display:inline;">csharp v5 +</h3>
    </div>
    
    

    <a  href="/blog/topics/csharp/v5/Asynchronous_methods/">Asynchronous methods</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v5/Caller_info_attributes/">Caller info attributes</a>
    *
    
    
    
    
    
    

    
    

    
    <div style="display:inline;" >
        <h3 style="display:inline;">csharp v6 +</h3>
    </div>
    
    

    <a  href="/blog/topics/csharp/v6/A_note_for_CSharp_6_and_beyond/">A note for CSharp 6 and beyond</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/Allow_await_in_catch_and_finally_blocks/">Allow await in catch and finally blocks</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/Auto_property_initializers/">Auto property initializers</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/Default_values_for_Read-only_Auto-properties/">Default values for Read-only Auto-properties</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/Dictionary__index__initializers/">Dictionary (index) initializers</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/Exception_filters/">Exception filters</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/Expression-bodied_members/">Expression-bodied members</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/Import_of_static_type_members_into_namespace/">Import of static type members into namespace</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/Null_propagator__null-conditional_operator__succinct_null_checking_/">Null propagator (null-conditional operator, succinct null checking)</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/String_interpolation/">String interpolation</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v6/nameof_operator/">nameof operator</a>
    *
    
    
    
    
    
    

    
    

    
    <div style="display:inline;" >
        <h3 style="display:inline;">csharp v7 +</h3>
    </div>
    
    

    <a  href="/blog/topics/csharp/v7/Binary_literals/">Binary literals</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Deconstruction/">Deconstruction</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Digit_separators/">Digit separators</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Expression_bodied_constructors_and_finalizers/">Expression bodied constructors and finalizers</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Expression_bodied_getters_and_setters/">Expression bodied getters and setters</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Generalized_async_return_types/">Generalized async return types</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Local_functions/">Local functions</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Out_variables/">Out variables</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Pattern_matching/">Pattern matching</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Ref_returns_and_locals/">Ref returns and locals</a>
    *
    
    
    
    
    
    

    
    

    

    <a  href="/blog/topics/csharp/v7/Tuples/">Tuples</a>
    *
    
    

    
    
    
</div>
        </div>
      </div>
      <div class="wrapper">
      </div>
      </main>
    </div>
    <label for="sidebar-checkbox" class="sidebar-toggle"></label>
    <script src='/blog/public/js/script.js'></script>
  </body>

</html>